updateLock.t.sol
├── given contract is paused
│   └── it should revert
└── given contract is not paused
    ├── when user has no existing lock
    │   └── it should revert with NonExistentLock
    └── when user has a lock
        ├── when lock is perpetual
        │   └── it should revert with NotPerpetual
        ├── when user has an expired lock
        │   └── it should revert with ExpiredLock
        └── when user has an active decaying lock
        ├── when amount is zero
        │   └── it should revert with InvalidAmount
        ├── when new unlock time is less than or equal to current lock end
        │   └── it should revert with LockTimeNotIncreased
        ├── when new unlock time exceeds MAX_LOCK
        │   └── it should revert with LockMaxDurationExceeded
        └── when parameters are valid
            ├── when amount exceeds user's balance
            │   └── it should revert
            └── when amount is within user's balance
                ├── it should update the lock end time
                ├── it should increase the lock amount
                ├── it should update the user's voting power
                ├── it should update the supply
                ├── it should transfer tokens from the user
                ├── it should emit a Deposit event
                └── it should emit a Supply event
